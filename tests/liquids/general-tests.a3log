

Liquid Tests 
Testing liquids behavior. 
(C) 2020 by Tristano Ajmone 
Programmed with the ALAN Interactive Fiction Language v3.0 beta7.
Standard Library v2.2.0 
Version 1 
All rights reserved. 

Welcome to the ALAN StdLib's "Liquids Test Laboratory," a private
research facility founded by Anssi Räisänen with funds from the
"International ALAN Foundation" and from IF-tycoon Thomas Nilefalk.


Liquids Test Laboratory
There is a jar and a bottle here. 
Anssi Räisänen is here, waiting to assist you.

> ; ******************************************************************************
> ; *                                                                            *
> ; *                            LIQUID GENERAL TESTS                            *
> ; *                                                                            *
> ; ******************************************************************************
> ; This solution file carries out general tests on the behavior of liquids, their
> ; vessels, and the various attributes and verbs associated with them.
> ; ==============================================================================
> ; INITIAL STATE OF CONTAINERS
> ; ==============================================================================
> ; The bottle has wine in it, the jar is empty.
> x jar
The jar is empty.

> ; The bottle has an 'ex' attribute, it should be honored:
> ; The bottle is closed, it should be mentioned:
> x bottle
It's a wine bottle, French, and probably good quality too. You can't see
what's inside the bottle, since it's closed.

> ; **ERROR** 'should mention if it's open or closed!
> ; The wine shouldn't be accessible since it's closed:
> x wine
You can't see any wine here.

> ; ------------------------------------------------------------------------------
> ; OPEN BOTTLE
> ; ------------------------------------------------------------------------------
> open bottle
You'll need a corkscrew to open the wine bottle.

> ask Anssi for corkscrew
Anssi gives the corkscrew to you.

> open bottle
You open the bottle. The bottle contains some wine. You're now carrying
the bottle's cork.

> i
You are carrying a corkscrew and a cork.

> ; The wine has an 'ex' attribute, it should be honored:
> x wine
It's dark red, dense.

> ; =================================================
> ; TEST BOTTLE: CUSTOM CORK/CORKSCREW IMPLEMENTATION
> ; =================================================
> ; Just making sure the mechanism works fine...
> drop cork
Dropped.

> drop corkscrew
Dropped.

> close bottle
You'll need a cork to close the wine bottle with.

> take cork
Taken.

> close bottle
You close the bottle. Now the cork is back in the bottle.

> i
You are empty-handed.

> open bottle
You'll need a corkscrew to open the wine bottle.

> take corkscrew
Taken.

> open bottle
You open the bottle. The bottle contains some wine. You're now carrying
the bottle's cork.

> ; ==============================================================================
> ; MOVING LIQUIDS AROUND
> ; ==============================================================================
> ; Trying to fill the jar with wine will fail by default:
> fill jar with wine
You can't fill the jar with the wine.

> ; Trying to pour the wine into the jar should succeed:
> pour wine in jar
(taking the bottle of wine first)
You pour the wine into the jar.

> x bottle
It's a wine bottle, French, and probably good quality too. The bottle is
empty.

> x jar
The jar contains some wine.

> ; And vice-versa:
> pour wine in bottle
(taking the jar of wine first)
You pour the wine into the bottle.

> x bottle
It's a wine bottle, French, and probably good quality too. The bottle
contains some wine.

> x jar
The jar is empty.

> ; edge-case test (should fail):
> pour wine in bottle
You pour the wine into the bottle.

> ; **BUG!** The wine is already in the bottle
> ; ==============================================================================
> ; BUGS
> ; ==============================================================================
> ; When the bottle is closed again, it should not be possible to pour it, nor its
> ; contents!
> close bottle
You close the bottle. Now the cork is back in the bottle.

> pour bottle
You can't, since the bottle is closed.

> ; of course, the wine is out of scope when the bottle (OPAQUE) is closed:
> pour wine
You can't see any wine here.

> 

Do you want to RESTART, RESTORE, QUIT or UNDO? 
